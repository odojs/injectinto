// Generated by CoffeeScript 1.8.0
var bind,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

bind = function() {
  var Inject;
  Inject = (function() {
    function Inject() {
      this.clear = __bind(this.clear, this);
      this.many = __bind(this.many, this);
      this.firstornone = __bind(this.firstornone, this);
      this.first = __bind(this.first, this);
      this.oneornone = __bind(this.oneornone, this);
      this.one = __bind(this.one, this);
      this.bind = __bind(this.bind, this);
      this.bindings = {};
    }

    Inject.prototype.bind = function(key, item) {
      var i, k;
      if (typeof key === 'object') {
        for (k in key) {
          i = key[k];
          this.bind(k, i);
        }
        return;
      }
      if (this.bindings[key] == null) {
        this.bindings[key] = [];
      }
      if (Array.isArray(item)) {
        return this.bindings[key] = this.bindings[key].concat(item);
      } else {
        return this.bindings[key].push(item);
      }
    };

    Inject.prototype.one = function(key) {
      var items;
      if (this.bindings[key] == null) {
        throw "" + key + " not found";
      }
      items = this.bindings[key];
      if (items.length > 1) {
        throw "" + key + " too many bound";
      }
      return items[0];
    };

    Inject.prototype.oneornone = function(key) {
      var items;
      if (this.bindings[key] == null) {
        return null;
      }
      items = this.bindings[key];
      if (items.length > 1) {
        throw "" + key + " too many bound";
      }
      return items[0];
    };

    Inject.prototype.first = function(key) {
      if (this.bindings[key] == null) {
        throw "" + key + " not found";
      }
      return this.bindings[key][0];
    };

    Inject.prototype.firstornone = function(key) {
      if (this.bindings[key] == null) {
        return null;
      }
      return this.bindings[key][0];
    };

    Inject.prototype.many = function(key) {
      if (this.bindings[key] == null) {
        return [];
      }
      return this.bindings[key];
    };

    Inject.prototype.clear = function(key) {
      return delete this.bindings[key];
    };

    return Inject;

  })();
  return new Inject;
};

if (typeof define !== "undefined" && define !== null) {
  define([], bind);
} else if (typeof module !== "undefined" && module !== null) {
  module.exports = bind();
} else {
  window.inject = bind();
}
